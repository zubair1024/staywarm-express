{"version":3,"sources":["index.es6.js"],"names":[],"mappings":"AAAA,aAAa;;;;;;;;;;;;kBAEE,IAAI;;oBACF,MAAM;;yBACD,WAAW;;gCACV,uBAAuB;;IAE1C,QAAQ,GAAI,uBAAa,CAAC,UAAU,CAAC;IACrC,GAAG,GAAS,OAAO,IAAI,SAAS,IAAI,aAAa;IACjD,MAAM,GAAM,2BAAW,GAAG,CAAC;IAC3B,EAAE,GAAU,EAAE;IACd,SAAS,GAAG,IAAI;;AAEpB,AACE,SAAS,GADX,AAAI,MAAM,iBAAiB,GACb,wBAAc,OAAO,IAAI,CAAC,MAAM,iBAAiB,CAAC,CAAC,GAEnD,wBAAc,MAAM,SAAS,EAAE,MAAM,SAAS,EAAE,MAAM,SAAS,EAAE,MAAM,CAAC,AACrF,EAED,wBACc,CAAC,SAAS,CAAC,OAChB,CAAC,UAAA,CAAI;AACV,SAAO,AAAC,AAAsB,CAAC,KAAvB,CAAI,QAAQ,CAAC,GAAG,CAAC,AAAM,IAAM,CAAI,KAAK,QAAQ,AAAC,IACjD,AAAmB,KAAK,KAAxB,CAAI,MAAM,CAAC,CAAC,CAAC,CAAC,AAAU,AAAC,IAAK,CAAI,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,AAAC,CAAC;CACtE,CAAC,QACM,CAAC,UAAA,CAAI;AACX,MAAI,CAAK,GAAG,SAAS,OAAU,CAAC,mBAAS,CAAC,SAAS,EAAE,CAAI,CAAC,CAAC,CAAC;AAC5D,IAAE,CAAC,CAAK,KAAK,CAAC,GAAG,CAAK,CAAA;CACvB,CAAC,EAEJ,MAAM,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,UAAA,CAAS;AAC/B,AAAI,IAAE,CAAC,CAAS,CAAC,UAAU,IACzB,EAAE,CAAC,CAAS,CAAC,UAAU,CAAC,EAAE,CAAC,AAC5B,CAAA;CACF,CAAC,EAEF,EAAE,UAAU,GAAG,SAAS,EACxB,EAAE,UAAU,sBAAY,oBAET,EAAE,kCAtBhB,CAAA","file":"index.js","sourcesContent":["'use strict';\n\nimport fs from 'fs';\nimport path from 'path';\nimport Sequelize from 'sequelize';\nimport configJson from '../config/config.json';\n\nlet basename  = path.basename(__filename);\nlet env       = process.env.NODE_ENV || 'development';\nlet config    = configJson[env];\nlet db        = {};\nlet sequelize = null;\n\nif (config.use_env_letiable) {\n  sequelize = new Sequelize(process.env[config.use_env_letiable]);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (file.indexOf('.') !== 0) && (file !== basename)\n      && (file.slice(-3) === '.js') && (file.lastIndexOf('.es6.js') < 0);\n  })\n  .forEach(file => {\n    let model = sequelize['import'](path.join(__dirname, file));\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nexport default db;\n"]}